(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"1Pl8":function(t,e,o){"use strict";o.r(e),o.d(e,"StorageModule",(function(){return B}));var s=o("ofXK"),c=o("tyNb"),i=o("fXoL"),n=o("IzEk"),r=o("tk/3");let b=(()=>{class t{constructor(t){this.http=t,this.multiple=new i.n}saveAssets(t){return this.http.post("https://fast-hamlet-03270.herokuapp.com/assets",{listSave:t}).pipe(Object(n.a)(1)).toPromise()}getCountAssets(){return this.http.get("https://fast-hamlet-03270.herokuapp.com/assets").pipe(Object(n.a)(1)).toPromise()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(r.c))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=o("3Pt+");function a(t,e){1&t&&(i.Sb(0,"div",2),i.Sb(1,"label"),i.tc(2,"Quantity"),i.Rb(),i.Ob(3,"input",12),i.Rb())}function u(t,e){1&t&&(i.Sb(0,"div",2),i.Sb(1,"label"),i.tc(2,"Serial Number"),i.Rb(),i.Ob(3,"input",13),i.Rb())}const m=function(t,e,o){return{"text-danger":t,"text-warning":e,"text-success":o}};function d(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",14),i.Sb(1,"div",15),i.Sb(2,"label"),i.tc(3,"Serial Numbers"),i.Rb(),i.Sb(4,"span",16),i.tc(5),i.Rb(),i.Rb(),i.Sb(6,"textarea",17),i.ac("input",(function(e){return i.mc(t),i.cc().verifySerialCount(e)})),i.Rb(),i.Rb()}if(2&t){const t=i.cc();i.Bb(4),i.ic("ngClass",i.kc(2,m,t.countSerial<t.stockForms.value.quantity,t.countSerial>t.stockForms.value.quantity,t.countSerial===t.stockForms.value.quantity)),i.Bb(1),i.vc("Total: ",t.countSerial,"")}}let p=(()=>{class t{constructor(t,e){this.stockService=t,this.fb=e,this.createdAsset=new i.n,this.countSerial=0,this.subscribers=[],this.stockForms=this.fb.group({category:["",l.m.required],brand:[{value:"",disabled:!0},l.m.required],modelAsset:[{value:"",disabled:!0},l.m.required],quantity:[1],serialNumber:[""],serialNumbers:[""]})}ngOnInit(){const t=this.stockService.multiple.subscribe(t=>{this.stockForms.reset()});this.checkChangesOnForm(),this.subscribers.push(t)}ngOnDestroy(){this.subscribers.forEach(t=>{t.unsubscribe()})}ngOnChanges(){console.log("teste"),this.checkChangesOnForm()}verifySerialCount(t){const e=t.target.value.split(";");console.log(e),this.countSerial=1===e.length&&""===e[0]?0:e.length}checkChangesOnForm(){const t=this.stockForms.get("category").valueChanges.subscribe(t=>{""===t?(this.stockForms.get("brand").disable(),this.stockForms.patchValue({brand:""})):this.stockForms.get("brand").enable()}),e=this.stockForms.get("brand").valueChanges.subscribe(t=>{""===t?(this.stockForms.get("modelAsset").disable(),this.stockForms.patchValue({modelAsset:""})):this.stockForms.get("modelAsset").enable()});this.subscribers.push(t,e)}save(){const t=[];if(this.multiple){const e=this.stockForms.value.serialNumbers.split(";");for(let o=0;o<this.stockForms.value.quantity;o++)t.push({category:this.stockForms.value.category,brand:this.stockForms.value.brand,modelAsset:this.stockForms.value.modelAsset,serialNumber:""===e[o]||void 0===e[o]?null:e[o]})}else{const e=this.stockForms.value;delete e.serialNumbers,delete e.quantity,t.push(e)}this.stockService.saveAssets(t).then(()=>{this.createdAsset.emit(!0)})}checkDisabled(){return!this.stockForms.valid||!this.multiple&&""===this.stockForms.value.serialNumber}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(b),i.Nb(l.b))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-create-item"]],inputs:{multiple:"multiple"},outputs:{createdAsset:"createdAsset"},features:[i.zb],decls:59,vars:24,consts:[[1,"container-fluid","py-2","rounded","bg-light","shadow-sm"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-12","col-md-6","mb-2"],["formControlName","category",1,"form-control","form-control-sm"],[3,"value"],["formControlName","brand",1,"form-control","form-control-sm"],["formControlName","modelAsset",1,"form-control","form-control-sm"],["class","col-12 col-md-6 mb-2",4,"ngIf"],["class","col-12 mb-2",4,"ngIf"],[1,"col-4","offset-8","col-md-2","offset-md-10"],["type","submit",1,"btn","btn-sm","btn-custom-orange","btn-block",3,"disabled"],[1,"fas","fa-save","mr-2"],["formControlName","quantity","type","number","min","1",1,"form-control","form-control-sm"],["formControlName","serialNumber","type","text",1,"form-control","form-control-sm"],[1,"col-12","mb-2"],[1,"d-flex"],[1,"ml-auto",3,"ngClass"],["formControlName","serialNumbers","rows","5","value","",1,"form-control",3,"input"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Sb(1,"form",1),i.ac("ngSubmit",(function(){return e.save()})),i.Sb(2,"div",2),i.Sb(3,"label"),i.tc(4,"Categorie"),i.Rb(),i.Sb(5,"select",3),i.Sb(6,"option",4),i.tc(7,"Choose a categorie..."),i.Rb(),i.Sb(8,"option",4),i.tc(9,"Laptop"),i.Rb(),i.Sb(10,"option",4),i.tc(11,"Desktop"),i.Rb(),i.Sb(12,"option",4),i.tc(13,"Monitor"),i.Rb(),i.Sb(14,"option",4),i.tc(15,"Smartphone"),i.Rb(),i.Sb(16,"option",4),i.tc(17,"Mouse"),i.Rb(),i.Sb(18,"option",4),i.tc(19,"Keyboard"),i.Rb(),i.Sb(20,"option",4),i.tc(21,"Headset"),i.Rb(),i.Sb(22,"option",4),i.tc(23,"Cellphone"),i.Rb(),i.Sb(24,"option",4),i.tc(25,"Hub"),i.Rb(),i.Rb(),i.Rb(),i.Sb(26,"div",2),i.Sb(27,"label"),i.tc(28,"Brand"),i.Rb(),i.Sb(29,"select",5),i.Sb(30,"option",4),i.tc(31,"Choose a Brand..."),i.Rb(),i.Sb(32,"option",4),i.tc(33,"Dell"),i.Rb(),i.Sb(34,"option",4),i.tc(35,"Jabra"),i.Rb(),i.Sb(36,"option",4),i.tc(37,"Logitech"),i.Rb(),i.Sb(38,"option",4),i.tc(39,"Samsung"),i.Rb(),i.Sb(40,"option",4),i.tc(41,"Cisco"),i.Rb(),i.Rb(),i.Rb(),i.Sb(42,"div",2),i.Sb(43,"label"),i.tc(44,"Model"),i.Rb(),i.Sb(45,"select",6),i.Sb(46,"option",4),i.tc(47,"Choose a model..."),i.Rb(),i.Sb(48,"option",4),i.tc(49,"MT444"),i.Rb(),i.Sb(50,"option",4),i.tc(51,"VT551"),i.Rb(),i.Rb(),i.Rb(),i.sc(52,a,4,0,"div",7),i.sc(53,u,4,0,"div",7),i.sc(54,d,7,6,"div",8),i.Sb(55,"div",9),i.Sb(56,"button",10),i.Ob(57,"i",11),i.tc(58," Save "),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.Bb(1),i.ic("formGroup",e.stockForms),i.Bb(5),i.ic("value",""),i.Bb(2),i.ic("value","laptop"),i.Bb(2),i.ic("value","desktop"),i.Bb(2),i.ic("value","monitor"),i.Bb(2),i.ic("value","smartphone"),i.Bb(2),i.ic("value","mouse"),i.Bb(2),i.ic("value","keyboard"),i.Bb(2),i.ic("value","headset"),i.Bb(2),i.ic("value","cellphone"),i.Bb(2),i.ic("value","hub"),i.Bb(6),i.ic("value",""),i.Bb(2),i.ic("value","dell"),i.Bb(2),i.ic("value","jabra"),i.Bb(2),i.ic("value","logitech"),i.Bb(2),i.ic("value","samsung"),i.Bb(2),i.ic("value","cisco"),i.Bb(6),i.ic("value",""),i.Bb(2),i.ic("value","MT444"),i.Bb(2),i.ic("value","VT551"),i.Bb(2),i.ic("ngIf",e.multiple),i.Bb(1),i.ic("ngIf",!e.multiple),i.Bb(1),i.ic("ngIf",e.multiple),i.Bb(2),i.ic("disabled",e.checkDisabled()))},directives:[l.o,l.g,l.d,l.l,l.f,l.c,l.i,l.n,s.k,l.a,l.j,s.i],styles:[""]}),t})();function h(t,e){if(1&t&&(i.Sb(0,"div",8),i.Sb(1,"div",9),i.Sb(2,"div"),i.Sb(3,"h5",10),i.tc(4),i.dc(5,"titlecase"),i.Rb(),i.Sb(6,"small"),i.Ob(7,"i",11),i.tc(8),i.Rb(),i.Rb(),i.Sb(9,"h3",12),i.tc(10),i.Rb(),i.Rb(),i.Rb()),2&t){const t=e.$implicit;i.Bb(4),i.vc(" ",i.ec(5,3,t.category),"s"),i.Bb(4),i.vc("No serial: ",t.noSerial,""),i.Bb(2),i.vc(" ",t.count,"")}}function f(t,e){if(1&t&&(i.Sb(0,"div",5),i.Sb(1,"div",6),i.sc(2,h,11,5,"div",7),i.Rb(),i.Rb()),2&t){const t=i.cc();i.Bb(2),i.ic("ngForOf",t.counts)}}function g(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",13),i.ac("click",(function(){i.mc(t);const e=i.cc();return e.newItem=!1,e.add=!1})),i.Ob(1,"i",14),i.Sb(2,"p",15),i.tc(3,"Back"),i.Rb(),i.Rb()}}function v(t,e){if(1&t){const t=i.Tb();i.Sb(0,"app-create-item",16),i.ac("createdAsset",(function(){return i.mc(t),i.cc().changeView()})),i.Rb()}if(2&t){const t=i.cc();i.ic("multiple",t.multiple)}}const S=function(t,e){return{closed:t,open:e}};function k(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",17),i.Sb(1,"div",18),i.Sb(2,"button",19),i.ac("click",(function(){return i.mc(t),i.cc().onNewItem(!1)})),i.tc(3," One "),i.Rb(),i.Sb(4,"button",20),i.ac("click",(function(){return i.mc(t),i.cc().onNewItem(!0)})),i.tc(5," Multiple "),i.Rb(),i.Rb(),i.Sb(6,"button",21),i.ac("click",(function(){i.mc(t);const e=i.cc();return e.add=!e.add})),i.Ob(7,"i",22),i.tc(8," Asset "),i.Rb(),i.Rb()}if(2&t){const t=i.cc();i.Bb(1),i.ic("ngClass",i.jc(1,S,!t.add,t.add))}}const R=[{path:"",component:(()=>{class t{constructor(t){this.stockService=t,this.add=!1,this.newItem=!1,this.multiple=!1,this.counts=[]}ngOnInit(){this.stockService.getCountAssets().then(t=>{this.counts=t})}onNewItem(t){this.stockService.multiple.emit(t),this.multiple=t,this.newItem=!0}changeView(){this.newItem=!1,this.add=!1,this.stockService.getCountAssets().then(t=>{this.counts=t})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(b))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-storage"]],decls:5,vars:4,consts:[[1,"container","py-2"],["class","container-fluid py-2 bg-light rounded shadow-sm",4,"ngIf"],["class","bg-light p-2 rounded shadow-sm d-flex align-items-center mb-2",3,"click",4,"ngIf"],[3,"multiple","createdAsset",4,"ngIf"],["class","","style","position:absolute; bottom: 20px; right: 20px;",4,"ngIf"],[1,"container-fluid","py-2","bg-light","rounded","shadow-sm"],[1,"row"],["class","col-12 col-md-4 col-3 mb-2",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","col-3","mb-2"],[1,"bg-custom-orange","p-2","rounded","d-flex","align-items-center","text-white"],[1,"m-0"],[1,"fas","fa-exclamation-triangle","mr-2"],[1,"m-0","ml-auto"],[1,"bg-light","p-2","rounded","shadow-sm","d-flex","align-items-center","mb-2",3,"click"],[1,"fas","fa-chevron-left"],[1,"m-0","ml-2"],[3,"multiple","createdAsset"],[1,"",2,"position","absolute","bottom","20px","right","20px"],[1,"d-flex","rounded","align-items-center","flex-column","align-items-end","mb-1",2,"overflow","hidden",3,"ngClass"],[1,"btn","btn-sm","btn-custom-orange","mb-1",3,"click"],[1,"btn","btn-sm","btn-custom-orange",3,"click"],[1,"p-2","border","btn-custom-dark-blue","rounded","d-flex","align-items-center",3,"click"],[1,"fas","fa-plus","mr-2"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.sc(1,f,3,1,"div",1),i.sc(2,g,4,0,"div",2),i.sc(3,v,1,1,"app-create-item",3),i.sc(4,k,9,4,"div",4),i.Rb()),2&t&&(i.Bb(1),i.ic("ngIf",!e.newItem),i.Bb(1),i.ic("ngIf",e.newItem),i.Bb(1),i.ic("ngIf",e.newItem),i.Bb(1),i.ic("ngIf",!e.newItem))},directives:[s.k,s.j,p,s.i],pipes:[s.n],styles:[".open[_ngcontent-%COMP%]{max-height:90px;opacity:1}.closed[_ngcontent-%COMP%], .open[_ngcontent-%COMP%]{transition:.2s ease-in-out}.closed[_ngcontent-%COMP%]{max-height:0;opacity:0}"]}),t})()}];let y=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[c.d.forChild(R)],c.d]}),t})(),B=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[s.b,y,l.e,l.k]]}),t})()}}]);